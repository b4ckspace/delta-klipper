# This file contains common pin mappings for RADDS (v1.5) boards.  To
# use this config, the firmware should be compiled for the Arduino
# Due.

# See docs/Config_Reference.md for a description of parameters.

# Temp sensor pins: PA16..PA6
# Mosfet Pins: PC23 (Heatbed), PC22, PC21, PD7, PD8, PB27

[stepper_a]
step_pin: PA15
dir_pin: PA14
enable_pin: PD1
microsteps: 16
rotation_distance: 10
#endstop_pin: ^PD3 # min
endstop_pin: ^PC2 # max
homing_speed: 50
#position_endstop: 479.00
#arm_length: 380

[stepper_b]
step_pin: PA12
dir_pin: PA13
enable_pin: PB26
microsteps: 16
rotation_distance: 10
#endstop_pin: ^PD9 # min
endstop_pin: ^PC4 # max

[stepper_c]
step_pin: PB25
dir_pin: PC28
enable_pin: PD5
microsteps: 16
rotation_distance: 10
#endstop_pin: ^PD10 # min
endstop_pin: ^PC6 # max

[extruder]
step_pin: PA2
dir_pin: PA3
enable_pin: PB17
microsteps: 16
rotation_distance: 8.073
nozzle_diameter: 0.400
filament_diameter: 1.750
heater_pin: PB27
#sensor_type: EPCOS 100K B57560G104F
sensor_type: Generic 3950
sensor_pin: PA16
#control: pid
#pid_Kp: 22.2
#pid_Ki: 1.08
#pid_Kd: 114
min_temp: 0
max_temp: 270
smooth_time: 1.0
max_extrude_only_distance: 1000
pressure_advance: 0.48

[heater_bed]
heater_pin: PC23
sensor_type: EPCOS 100K B57560G104F
sensor_pin: PA6
#control: watermark
min_temp: 0
max_temp: 90
smooth_time: 1.0

[fan]
pin: PC21

[heater_fan heatbreak_cooling_fan]
pin: PC22

[mcu]
serial: /dev/serial/by-id/usb-Klipper_sam3x8e_20322051525051532038303037303133-if00
#serial: /dev/ttyACM0

[printer]
kinematics: delta
max_velocity: 300
max_accel: 6000
max_z_velocity: 150
max_z_accel: 100
#delta_radius: 210
print_radius: 200

# only for manual calibaration
minimum_z_position: -2

[delta_calibrate]
radius: 95

[display]
lcd_type: hd44780
rs_pin: PA19
e_pin: PA20
d4_pin: PC19
d5_pin: PC18
d6_pin: PC17
d7_pin: PC16
encoder_pins: ^PB21, ^PC13
click_pin: ^!PC15

[mcu rpi]
serial: /tmp/klipper_host_mcu

[adxl345]
cs_pin: rpi:None

[probe]
pin: ^!PD3
z_offset: -0.09
speed: 7
sample_retract_dist: 20

[bed_mesh]
speed: 100
mesh_min: -60, -60
mesh_max: 60, 60
probe_count: 5, 5
horizontal_move_z: 5

[resonance_tester]
accel_chip: adxl345
probe_points:
     0, 0, 20

[include mainsail.cfg]
[include macros.cfg]

#[display]
#lcd_type: hd44780
#rs_pin: PA19
#e_pin: PA20
#d4_pin: PC19
#d5_pin: PC18
#d6_pin: PC17
#d7_pin: PC16
#encoder_pins: ^PB21, ^PC13
#click_pin: ^!PC15

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [printer]
#*# delta_radius = 209.748596
#*#
#*# [stepper_a]
#*# angle = 209.771631
#*# arm_length = 382.380936
#*# position_endstop = 463.138
#*#
#*# [stepper_b]
#*# angle = 330.593798
#*# arm_length = 380.369971
#*# position_endstop = 463.255
#*#
#*# [stepper_c]
#*# angle = 90.000000
#*# arm_length = 378.980123
#*# position_endstop = 464.321
#*#
#*# [input_shaper]
#*# shaper_type_x = ei
#*# shaper_freq_x = 52.4
#*# shaper_type_y = mzv
#*# shaper_freq_y = 46.2
#*#
#*# [delta_calibrate]
#*# height0 = 0.0
#*# height0_pos = 151906.000,151926.000,152106.000
#*# height1 = 0.0
#*# height1_pos = 166494.000,166520.000,138089.000
#*# height2 = 0.0
#*# height2_pos = 146704.000,176795.000,146903.000
#*# height3 = 0.0
#*# height3_pos = 138987.000,164679.000,164734.000
#*# height4 = 0.0
#*# height4_pos = 147286.000,147346.000,170053.000
#*# height5 = 0.0
#*# height5_pos = 162523.000,140089.000,162791.000
#*# height6 = 0.0
#*# height6_pos = 172964.000,146821.000,147112.000
#*# distance0 = 65.00999999999999
#*# distance0_pos1 = 151073.432,152414.198,152509.059
#*# distance0_pos2 = 140438.920,162328.456,162313.063
#*# distance1 = 64.82
#*# distance1_pos1 = 151546.652,151464.531,152987.240
#*# distance1_pos2 = 147250.072,147238.536,170874.355
#*# distance2 = 64.84
#*# distance2_pos1 = 152496.302,150986.236,152509.059
#*# distance2_pos2 = 162327.994,140352.118,162313.063
#*# distance3 = 65.13999999999999
#*# distance3_pos1 = 152972.762,151450.943,151559.423
#*# distance3_pos2 = 170859.840,147037.199,147239.281
#*# distance4 = 64.85
#*# distance4_pos1 = 152492.862,152400.482,151087.906
#*# distance4_pos2 = 162269.154,162093.853,140453.367
#*# distance5 = 64.8
#*# distance5_pos1 = 151543.244,152885.505,151559.423
#*# distance5_pos2 = 147199.575,170772.032,147239.281
#*# distance6 = 64.74
#*# distance6_pos1 = 141325.216,160264.181,161821.897
#*# distance6_pos2 = 148018.950,146638.872,170113.657
#*# distance7 = 65.05
#*# distance7_pos1 = 148190.365,146803.326,168612.701
#*# distance7_pos2 = 162691.083,140640.107,161100.326
#*# distance8 = 64.86999999999999
#*# distance8_pos1 = 161832.880,141230.652,160258.752
#*# distance8_pos2 = 170097.061,147805.133,146646.649
#*# distance9 = 64.89
#*# distance9_pos1 = 168596.145,147984.546,146817.466
#*# distance9_pos2 = 161056.805,162465.864,140747.512
#*# distance10 = 65.01
#*# distance10_pos1 = 160217.357,161618.407,141338.117
#*# distance10_pos2 = 146608.709,170019.666,148007.976
#*# distance11 = 64.78
#*# distance11_pos1 = 146781.116,168518.612,148181.001
#*# distance11_pos2 = 140734.605,161114.218,162677.947
#*#
#*# [extruder]
#*# control = pid
#*# pid_kp = 34.291
#*# pid_ki = 9.939
#*# pid_kd = 29.576
#*#
#*# [heater_bed]
#*# control = pid
#*# pid_kp = 72.361
#*# pid_ki = 1.304
#*# pid_kd = 1004.004
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	  -0.084782, -0.100328, -0.072676, -0.046661
#*# 	  -0.028307, -0.037897, -0.056128, -0.012184
#*# 	  -0.044710, -0.067018, -0.082032, -0.060726
#*# 	  -0.115955, -0.137911, -0.194957, -0.210614
#*# x_count = 4
#*# y_count = 4
#*# mesh_x_pps = 2
#*# mesh_y_pps = 2
#*# algo = lagrange
#*# tension = 0.2
#*# min_x = -60.0
#*# max_x = 60.0
#*# min_y = -60.0
#*# max_y = 60.0
